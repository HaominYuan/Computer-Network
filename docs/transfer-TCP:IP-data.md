# 创建套接字

- 协议栈的内部结构
  - 最上层的是网络应用程序，也就是浏览器、电子邮件客户端、Web 服务器、电子邮件服务器等程序。
  - 应用程序的下面是Socket库，其中包括解析器，解析器用来向 DNS 服务器发出查询。
  - 再下面是操作系统内部，其中包括协议栈。协议栈分为上下两部分。
    - 上部分包括两块，分别是负责用 TCP 协议收发数据的部分和负责 UDP 协议收发数据的部分。
    - 下部分是 用 IP 协议控制网络包收发操作的部分。IP 中还包括 ICMP 协议和 ARP 协议。ICMP 协议用于告知网络包传送过程中产生的错误以及各种控制信息，ARP 用于根据 IP 地址查询相应的以太网 MAC 地址。

- 套接字的实体就是通信控制信息

  - 在协议栈内部有一块用于存放控制信息的内存空间，这里记录了用于控制通信操作的控制信息，例如通信对象的 IP 地址、端口号、通信操作的进行状态等。存放控制信息的内存空间就是套接字的实体。

  - 通过命令 netstat 可以显示路由表、实际的网络连接以及每个一个网络接口设备的状态信息。

    ![netstat](/images/netstat.png)

  - asfd 

